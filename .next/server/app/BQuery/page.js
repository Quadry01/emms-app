(()=>{var e={};e.id=409,e.ids=[409],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9576:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d});var s=r(260),a=r(8203),l=r(5155),n=r.n(l),o=r(7292),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let d=["",{children:["BQuery",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4047)),"/Users/apple2/Desktop/    /app/BQuery/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2909)),"/Users/apple2/Desktop/    /app/layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/apple2/Desktop/    /app/BQuery/page.jsx"],m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/BQuery/page",pathname:"/BQuery",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},538:(e,t,r)=>{Promise.resolve().then(r.bind(r,4047))},3586:(e,t,r)=>{Promise.resolve().then(r.bind(r,2832))},2726:()=>{},6286:()=>{},7224:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3219,23)),Promise.resolve().then(r.t.bind(r,4863,23)),Promise.resolve().then(r.t.bind(r,5155,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,6313,23)),Promise.resolve().then(r.t.bind(r,8530,23)),Promise.resolve().then(r.t.bind(r,8921,23))},7896:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6959,23)),Promise.resolve().then(r.t.bind(r,3875,23)),Promise.resolve().then(r.t.bind(r,8903,23)),Promise.resolve().then(r.t.bind(r,4178,23)),Promise.resolve().then(r.t.bind(r,6013,23)),Promise.resolve().then(r.t.bind(r,7190,23)),Promise.resolve().then(r.t.bind(r,1365,23))},2832:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var s=r(5512),a=r(8009),l=r(9060);let n=e=>{let[t,r]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0),[o,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{},[]),(0,a.useEffect)(()=>{(async()=>{if(n(!0),e&&o){let t=function(e){return"string"!=typeof e?"":e.replace(/"/g,"")}(o);try{let{data:s,error:a}=await l.N.from(t).select("*").ilike("sender",`%${e}%`);a?(console.error("Error fetching mails by sender:",a),r(null)):r(s)}catch(e){console.error("Unexpected error:",e),r(null)}}else r(null);n(!1)})()},[e,o]),{mailData:t,loading:s}};var o=r(6112),i=r(6008),d=r(6930),c=r(7424),m=r(8578);let p=({handleLogout:e})=>(0,s.jsxs)("div",{className:"absolute top-4 right-4 h-72",children:[(0,s.jsx)(i.default,{target:"#",href:"/Dashboard",className:" relative mx-1 text-white py-2 text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Home"}),(0,s.jsx)("button",{onClick:e,className:"relative mx-1 text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"Logout"}),(0,s.jsx)(i.default,{target:"#",href:"/Mails",className:"relative mx-1 text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"Database"}),(0,s.jsx)(i.default,{target:"#",href:"/Query",className:"relative mx-1 text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"Track Mail"}),(0,s.jsx)(i.default,{target:"#",href:"/BQuery",className:"relative mx-1 text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"Search"}),(0,s.jsx)(i.default,{target:"#",href:"/Update",className:"relative mx-1 text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center",children:"Update"}),(0,s.jsx)(i.default,{target:"#",href:"/Delete",className:" relative mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Delete"})]}),x=()=>{let[e,t]=(0,a.useState)(""),{mailData:r,loading:l}=n(e),[i,x]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{x(!0);let e=(0,d.hg)(c.j,e=>{e?console.log("No user is signed in"):(window.location.href="/",console.log("User is signed in:",e))});return()=>e()},[]),!i)return null;let u=async e=>{e.preventDefault();try{await (0,o.ri)(),notify1()}catch(e){console.error("Error code:",e.code),console.error("Error message:",e.message)}},h=e=>t(e.target.value);return r&&Array.isArray(r)?(0,s.jsxs)("div",{children:[(0,s.jsxs)("form",{className:"max-w-lg mx-auto mt-44",children:[(0,s.jsx)("h2",{className:"mb-4 text-3xl text-center font-bold text-sky-900",children:"Enter Sender Name"}),(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsx)("input",{type:"search",className:"block p-2.5 w-full z-20 text-sm text-sky-900 bg-gray-50 rounded-lg border-2 border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by sender...",value:e,onChange:h,required:!0})})]}),l&&e&&(0,s.jsx)("p",{children:"Loading..."}),(0,s.jsx)("div",{className:"w-full max-w-7xl px-4 md:px-5 lg:px-5 mx-auto mt-8",children:r.length>0?(0,s.jsxs)("table",{className:"min-w-full bg-white shadow-lg rounded-lg",children:[(0,s.jsxs)("thead",{className:"bg-sky-900 text-white",children:[console.log(r),(0,s.jsx)("tr",{children:["S/N","Sender","Title","Description","Created At","Remarks","Image","Maail ID"].map(e=>(0,s.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold",children:e},e))})]}),(0,s.jsx)("tbody",{children:r.map(e=>(0,s.jsxs)("tr",{className:"border-b hover:bg-gray-100",children:[(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:e.id}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:e.sender}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:e.title}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:e.description}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:e.created_at}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:e.remarks}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:(0,s.jsx)("a",{href:e.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sky-900 hover:underline",children:"View Image"})}),(0,s.jsx)("td",{className:"py-3 px-4 text-sm",children:e.mail_id})]},e.id))})]}):(0,s.jsxs)("p",{children:['No mails found for the sender "',e,'"']})}),(0,s.jsx)(p,{handleLogout:u}),(0,s.jsx)(m.N9,{})]}):(0,s.jsxs)("form",{className:"max-w-lg mx-auto mt-44",children:[(0,s.jsx)("h2",{className:"mb-4 text-3xl text-center font-bold text-sky-900",children:"Enter Sender Name"}),(0,s.jsx)("div",{className:"relative w-full",children:(0,s.jsx)("input",{type:"search",className:"block p-2.5 w-full z-20 text-sm text-sky-900 bg-gray-50 rounded-lg border-2 border-gray-300 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search by sender...",value:e,onChange:h,required:!0})}),(0,s.jsx)(p,{handleLogout:u})]})}},6112:(e,t,r)=>{"use strict";r.d(t,{$5:()=>l,iD:()=>n,ri:()=>o});var s=r(6930),a=r(7424);let l=async(e,t)=>{try{await (0,s.eJ)(a.j,e,t)}catch(e){throw console.error(e.message),e}},n=async(e,t)=>{try{await (0,s.x9)(a.j,e,t)}catch(e){throw console.error(e.message),e}},o=async()=>{try{await (0,s.CI)(a.j)}catch(e){throw console.error(e.message),e}}},7424:(e,t,r)=>{"use strict";r.d(t,{j:()=>o});var s=r(6722),a=r(6930);let l={apiKey:"AIzaSyDw2861uQIf23W-6vdOyrHvIANzfVCisgY",authDomain:"emms-608f3.firebaseapp.com",projectId:process.env.FIREBASE_PROJECT_ID,storageBucket:process.env.FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.FIREBASE_MESSAGING_SENDER_ID,appId:process.env.FIREBASE_APP_ID,measurementId:process.env.FIREBASE_MEASUREMENT_ID},n=(0,s.Wp)(l),o=(0,a.xI)(n)},9060:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});let s=(0,r(6626).UU)("https://njfjrmzykoyqgobwkudm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5qZmpybXp5a295cWdvYndrdWRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxMjI0NzgsImV4cCI6MjA1MTY5ODQ3OH0.OT5l8HPprDT_TWngcwqoZ4EjLimu1cQ-mgKA8DlRKXg")},4047:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/apple2/Desktop/    /app/BQuery/page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/apple2/Desktop/    /app/BQuery/page.jsx","default")},2909:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>a});var s=r(2740);r(2704);let a={title:"EMMS",description:"Electronic Mail Management System"};function l({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:" antialiased",children:e})})}},2704:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[112,205,626],()=>r(9576));module.exports=s})();