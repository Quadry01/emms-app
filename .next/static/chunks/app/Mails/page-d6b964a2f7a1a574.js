(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[493],{2384:(e,t,s)=>{Promise.resolve().then(s.bind(s,2521))},9430:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var r=s(5155),a=s(2115),l=s(7374),c=s(7396),i=s(2110),n=s(399),d=s(3456);let o=()=>i.oR.success("Logout Successfully  ",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),x=async e=>{sessionStorage.clear(),e.preventDefault();try{await (0,l.ri)(),o()}catch(e){console.error("Error code:",e.code),console.error("Error message:",e.message)}},m=function(){let[e,t]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{t(!0);let e=(0,n.hg)(d.j,e=>{e||(window.location.href="/")});return()=>e()},[]),e)?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:" absolute top-4 right-5 h-72",children:[(0,r.jsx)(c.default,{target:"#",href:"/Dashboard",className:" relative mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Home"}),(0,r.jsx)("button",{onClick:x,className:" relative mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Logout"}),(0,r.jsx)(c.default,{target:"#",href:"/Mails",className:" relative mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Database"}),(0,r.jsx)(c.default,{target:"#",href:"/Query",className:" relative  mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Track mail"}),(0,r.jsx)(c.default,{target:"#",href:"/BQuery",className:" relative mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Search"}),(0,r.jsx)(c.default,{target:"#",href:"/Update",className:" relative mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Update"}),(0,r.jsx)(c.default,{target:"#",href:"/Delete",className:" relative mx-1 text-white py-2text-white bg-sky-900 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Delete"})]}),(0,r.jsx)(i.N9,{})]}):null}},2521:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(5155),a=s(2115),l=s(2418),c=s(9430);let i=e=>e?e.replace(/"/g,""):"",n=function(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null);return((0,a.useEffect)(()=>{(async()=>{let e=i(sessionStorage.getItem("officeID"));if(!e){o("Office ID is missing."),n(!1);return}try{let{data:s,error:r}=await l.N.from(e).select("*").range(999,1999);r?(o("Error fetching data."),console.error("Error fetching data:",r)):t(s)}catch(e){o("Unexpected error occurred."),console.error("Unexpected error:",e)}finally{n(!1)}})()},[]),s)?(0,r.jsx)("p",{style:{textAlign:"center"},children:"Loading..."}):d?(0,r.jsx)("p",{style:{color:"red",textAlign:"center"},children:d}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-center my-5 text-lg",children:"Mail Dataa"}),(0,r.jsxs)("table",{className:"min-w-full bg-white border-collapse border border-gray-300 shadow-lg rounded-lg",children:[(0,r.jsx)("thead",{className:"bg-sky-900 text-white",children:(0,r.jsx)("tr",{children:["S/N","Date","Mail ID","Sender","Title","Endorse By","Dispatch To","Current Location","Remarks","Description","Image URL"].map(e=>(0,r.jsx)("th",{className:"py-3 px-4 text-left text-sm font-semibold",children:e},e))})}),(0,r.jsx)("tbody",{children:e.map((e,t)=>{var s;return(0,r.jsxs)("tr",{className:"border-b ".concat(t%2==0?"bg-white":"bg-gray-50"),children:[(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:t+1}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:null===(s=e.created_at)||void 0===s?void 0:s.slice(0,10)}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.mail_id}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.sender}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.title}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.endorse_by}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.dispatch_to}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.current_location}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.remarks}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:e.description}),(0,r.jsx)("td",{className:"py-3 px-4 text-sm",children:(0,r.jsx)("a",{href:e.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sky-900 hover:underline",children:"View Image"})})]},e.id)})})]})]}),(0,r.jsx)(c.A,{})]})}},7374:(e,t,s)=>{"use strict";s.d(t,{$5:()=>l,iD:()=>c,ri:()=>i});var r=s(399),a=s(3456);let l=async(e,t)=>{try{await (0,r.eJ)(a.j,e,t)}catch(e){throw console.error(e.message),e}},c=async(e,t)=>{try{await (0,r.x9)(a.j,e,t)}catch(e){throw console.error(e.message),e}},i=async()=>{try{await (0,r.CI)(a.j)}catch(e){throw console.error(e.message),e}}},3456:(e,t,s)=>{"use strict";s.d(t,{j:()=>n});var r=s(9904),a=s(399),l=s(2818);let c={apiKey:"AIzaSyDw2861uQIf23W-6vdOyrHvIANzfVCisgY",authDomain:"emms-608f3.firebaseapp.com",projectId:l.env.FIREBASE_PROJECT_ID,storageBucket:l.env.FIREBASE_STORAGE_BUCKET,messagingSenderId:l.env.FIREBASE_MESSAGING_SENDER_ID,appId:l.env.FIREBASE_APP_ID,measurementId:l.env.FIREBASE_MEASUREMENT_ID},i=(0,r.Wp)(c),n=(0,a.xI)(i)},2418:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});let r=(0,s(3524).UU)("https://njfjrmzykoyqgobwkudm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5qZmpybXp5a295cWdvYndrdWRtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzYxMjI0NzgsImV4cCI6MjA1MTY5ODQ3OH0.OT5l8HPprDT_TWngcwqoZ4EjLimu1cQ-mgKA8DlRKXg")}},e=>{var t=t=>e(e.s=t);e.O(0,[138,524,564,441,517,358],()=>t(2384)),_N_E=e.O()}]);