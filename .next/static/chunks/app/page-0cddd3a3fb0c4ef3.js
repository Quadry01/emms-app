(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2523:(e,a,t)=>{Promise.resolve().then(t.bind(t,7327))},7374:(e,a,t)=>{"use strict";t.d(a,{$5:()=>r,iD:()=>o,ri:()=>n});var s=t(399),l=t(3456);let r=async(e,a)=>{try{await (0,s.eJ)(l.j,e,a)}catch(e){throw console.error(e.message),e}},o=async(e,a)=>{try{await (0,s.x9)(l.j,e,a)}catch(e){throw console.error(e.message),e}},n=async()=>{try{await (0,s.CI)(l.j)}catch(e){throw console.error(e.message),e}}},3456:(e,a,t)=>{"use strict";t.d(a,{j:()=>i});var s=t(9904),l=t(399),r=t(2818);let o={apiKey:"AIzaSyDw2861uQIf23W-6vdOyrHvIANzfVCisgY",authDomain:"emms-608f3.firebaseapp.com",projectId:r.env.FIREBASE_PROJECT_ID,storageBucket:r.env.FIREBASE_STORAGE_BUCKET,messagingSenderId:r.env.FIREBASE_MESSAGING_SENDER_ID,appId:r.env.FIREBASE_APP_ID,measurementId:r.env.FIREBASE_MEASUREMENT_ID},n=(0,s.Wp)(o),i=(0,l.xI)(n)},7327:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>x});var s=t(5155),l=t(2115),r=t(7374),o=t(399),n=t(3456),i=t(2110),c=t(7396),d=t(7752),m=t(632);let u=()=>{let[e,a]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{a(!0);let e=(0,o.hg)(n.j,e=>{e?("/Query"!==window.location.pathname&&"/Dashboard"!==window.location.pathname&&(window.location.href="/Dashboard"),console.log("User is signed in:",e)):("/"!==window.location.pathname&&"/Query"!==window.location.pathname&&(window.location.href="/"),console.log("No user is signed in"))});return()=>e()},[]),!e)return null;let t=()=>i.oR.success("Success  ",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});return(0,s.jsxs)("div",{className:"animate__animated  animate__fadeIn",children:[(0,s.jsx)(()=>{let[e,a]=(0,l.useState)(""),[o,n]=(0,l.useState)(""),[u,x]=(0,l.useState)(""),[h,f]=(0,l.useState)(!1),[p,g]=(0,l.useState)(!1),b=async a=>{if(a.preventDefault(),e&&o&&u){g(!0),sessionStorage.setItem("officeID",JSON.stringify(u)),console.log("Second component"),a.preventDefault();try{await (0,r.iD)(e,o),t()}catch(a){let e;switch(g(!1),a.code){case"auth/email-already-in-use":e="This email is already in use. Please use a different one.";break;case"auth/weak-password":e="Password is too weak. Please use a stronger one.";break;case"auth/invalid-email":e="Invalid email address. Please check and try again.";break;case"auth/operation-not-allowed":e="Email/password accounts are not enabled.";break;default:e="Unexpected error: ".concat(a.message)}i.oR.error(e,{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"}),console.error("Error code:",a.code),console.error("Error message:",a.message)}}else i.oR.error("Please fill in all required fields (Email, Password and Office ID).",{position:"top-left",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,theme:"colored"})};return(0,s.jsxs)("form",{onSubmit:b,children:[(0,s.jsxs)("div",{className:"flex w-screen flex-wrap text-slate-800",children:[(0,s.jsx)("div",{className:"relative text-wrap hidden h-screen select-none flex-col justify-center bg-sky-900 text-center md:flex md:w-1/2",children:(0,s.jsxs)("div",{className:"mx-auto py-16 px-8 text-white xl:w-[40rem] ",children:[(0,s.jsx)("span",{className:"rounded-full bg-white px-10 py-1 font-medium text-sky-900 text-5xl ",children:"Welcome Back"}),(0,s.jsx)("p",{className:"my-6 text-3xl font-semibold leading-10",children:(0,s.jsx)("span",{className:"mx-auto block w-auto rounded-lg bg-orange-400 py-2 text-white",children:"Electronic Mail Management System"})})]})}),(0,s.jsxs)("div",{className:" relative flex w-full flex-col md:w-1/2",children:[(0,s.jsxs)("div",{className:"my-auto mx-auto flex flex-col justify-center px-6 pt-8 md:justify-start lg:w-[28rem]",children:[(0,s.jsx)("p",{className:"text-center text-3xl font-bold md:text-left md:leading-tight",children:"Login to your Account"}),(0,s.jsxs)("div",{className:"flex flex-col items-stretch pt-3 md:pt-8",children:[(0,s.jsx)("div",{className:"flex flex-col pt-4"}),(0,s.jsxs)("div",{className:"flex flex-col pt-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Email*"}),(0,s.jsx)("div",{className:"relative flex overflow-hidden rounded-md border-2 transition focus-within:border-blue-600",children:(0,s.jsx)("input",{type:"email",id:"login-email",className:"w-full flex-shrink appearance-none border-gray-300 bg-white py-2 px-4 text-base text-gray-700 placeholder-gray-400 focus:outline-none",placeholder:"Email",value:e,onChange:e=>a(e.target.value)})})]}),(0,s.jsxs)("div",{className:"mb-1 flex flex-col pt-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900",children:"Password*"}),(0,s.jsxs)("div",{className:"relative flex overflow-hidden rounded-md border-2 transition focus-within:border-blue-600",children:[(0,s.jsx)("input",{type:h?"text":"password",id:"login-password",className:"w-full flex-shrink appearance-none border-gray-300 bg-white py-2 px-4 text-base text-gray-700 placeholder-gray-400 focus:outline-none",placeholder:"Password",value:o,onChange:e=>n(e.target.value)}),(0,s.jsx)("button",{type:"button",className:"absolute right-3 top-2.5 text-gray-600",onClick:()=>f(!h),children:h?(0,s.jsx)(d.A,{size:20}):(0,s.jsx)(m.A,{size:20})})]})]}),(0,s.jsxs)("div",{className:"mb-4 flex flex-col pt-4",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Office ID*"}),(0,s.jsx)("div",{className:"relative flex overflow-hidden rounded-md border-2 transition focus-within:border-blue-600",children:(0,s.jsx)("input",{type:"text",id:"officeID",className:"w-full flex-shrink appearance-none border-gray-300 bg-white py-2 px-4 text-base text-gray-700 placeholder-gray-400 focus:outline-none",placeholder:"Enter Office ID",value:u,onChange:e=>x(e.target.value)})})]}),(0,s.jsx)("button",{type:"submit",className:"mt-6 rounded-lg bg-sky-900 px-4 py-2 text-center text-base font-semibold text-white shadow-md outline-none ring-blue-500 ring-offset-2 transition hover:bg-blue-700 focus:ring-2 md:w-32",children:p?"Signing in..":"Sign in"})]})]}),(0,s.jsx)(c.default,{className:"absolute top-0 left-0 mt-4 ml-4 rounded-lg bg-sky-900 px-4 py-2 text-center text-base font-semibold text-white shadow-md outline-none ring-blue-500 ring-offset-2 transition hover:bg-blue-700 focus:ring-2 md:w-32",href:"/Query",children:"Track Mail"})]})]}),(0,s.jsx)(i.N9,{})]})},{className:"animate__animated  animate__fadeIn"})," "]})},x=function(){return(0,l.useEffect)(()=>{let e=(0,o.hg)(n.j,e=>{e?window.location.href="/Dashboard":console.log("User is signed in:",e)});return()=>e()},[]),(0,s.jsx)(u,{})}}},e=>{var a=a=>e(e.s=a);e.O(0,[138,564,716,441,517,358],()=>a(2523)),_N_E=e.O()}]);